`npm i cors`

항상 await은 try로 감싸줘야해

```
router.post("/login", (req, res, next) => {
  passport.authenticate("local", (err, user, info) => {
    if (err) {
      next(err);
    }
  })(req, res, next);
});

```

미들웨어 확장

`npm i cookie-parser`

쿠키랑 세션이 왜 필요하냐면
브라우저랑 서버랑 같은정보를 들고있다.
누가 로그인했는지 보내줘야된다.
백엔드 서버에서
쿠키에 아이디비번담아서 브라우저에 보내줌
암호화(랜덤)된거 보고 읽고 쿠키화세션

서버쪽에서는 메모리를 아끼기위해서 쿠키에다가 아이디만 매치해놔요
쿠키랑 내 아이디만

`npm i dotenv`
.=dot .env
개인정보 보호를 위해
[쿠키/세션과 전체 로그인 흐름.]
json이면 dot env못써서
config 파일확장자 js로 변경

자동로그인은 정책에따라 다르다
웹은 쿠키 세션,
신뢰할수있는 기계라는 가정하에 로컬스토리지

패스포트가 로그인 간단하게 해줌 (페북,구글)

미들웨어는 위에서 부터 아래로
왼쪽에서부터 오른쪽으로 실행되는데
일치하는 라우터가있으면 그 부분이 실행됨.

`npm i mogan`
GET /user 304 5.702 ms --
어떤 요청을 보냈는지 볼수있음

작성하는거 삭제하는거 보안을 철저히!!!
